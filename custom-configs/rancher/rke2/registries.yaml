# RKE2 Container Registry Configuration
# ======================================
#
# Configures RKE2 to pull images from host Podman registry
# running on the Gentoo host via libvirt bridge (virbr0)
#
# Default bridge IP: 192.168.122.1
# Override via cloud-init if using different network topology

mirrors:
  # Mirror docker.io to local registry
  docker.io:
    endpoint:
      - "http://192.168.122.1:5000"

  # Mirror ghcr.io to local registry (optional)
  ghcr.io:
    endpoint:
      - "http://192.168.122.1:5000"

  # Mirror quay.io to local registry (optional)
  quay.io:
    endpoint:
      - "http://192.168.122.1:5000"

# Registry configurations
configs:
  "192.168.122.1:5000":
    tls:
      # Disable TLS for local registry
      insecure_skip_verify: true
    auth:
      # No authentication required for local registry
      # Add credentials here if needed:
      # username: ""
      # password: ""
